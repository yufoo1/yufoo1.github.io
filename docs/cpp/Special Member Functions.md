---

sidebar_position: 11
---

# Special Member Functions

## Intro to Special Member Functions

Special member functions are(usually) automatically generated by the compiler.

* Default construction: object created with no parameters.

* Copy construction: object is created as a copy of an existing object.

* Copy assignment: existing object replaced as a copy of another existing object.

* Destruction: object destroyed when it is out of scope.

```cpp
vector<int> function(vector<int> vec0) {
    // Default constructor creates empty vector
    vector<int> vec1;
    // Not a special member function, creates a vector {0, 0, 0}
    vector<int> vec2(3);
    // Also not a special member function, uses initializer_list
    vector<int> vec3{3};
    // This is a function declaration
    vector<int> vec4();
    // Copy constructor, vec created as a copy of another one
    vector<int> vec5(vec2);
    // Also the default constructor
    vector<int> vec6{};
    // Copy constructor
    vector<int> vec7{vec3 + vec4};
    // Copy constructor, vec8 is newly constructed
    vector<int> vec8 = vec4;
    // Copy assignment, vec8 is an existing object
    vec8 = vec2;
    // Copy constructor, copies vec8 to location outside of func
    return vec8;
    // Destructors on all values(except return value) are called
}
```

## Member Initializer Lists

Members are first default constructed.

```cpp
template<typename T>
vector<T>::vector<T>() {
    _size = 0;
    _capacity = kInitialSize;
    _elems = new T[kInitialSize];
}
```

Directly construct each member with a starting value.

```cpp
template<typename T>
vector<T>::vector<T>(): _size(0), _capacity(kInitialSize), _elems(new T[kInitialSize]) {}
```

## Deep Copy and Shallow Copy

The default compiler-generated copy constructor and copy assignment functions work by `copying each member variable`. If you want to do deep copy, you might want to overwrite the default special member functions with your own implementation.

```cpp
template<typename T>
vector::vector<T>(const vector<T>& other):
    _size(other._size), 
    _capacity(other.capacity),
    _elems = new T[other._capacity] {
        std::copy(other._elems, other._elems + other._size, _elems);
    }

template<typename T>
vector<T>& vector<T>::operator=(const vector<T>& other) {
    if(&other == this) return *this;
    _size = other._size;
    _capacity = other._capacity;
    _elems = new T[other._capacity];
    std::copy(other._elems, other._elems + other._size, _elems);
    return *this;
}
```

## Delete

To prevent copies from being created, you can explicitly delete the copy member functions.

```cpp
class PasswordManager {
    public:
        PasswordManager();
        ~PasswordManager();
        PasswordManager(const PasswordManager& rhs) = delete;
        PasswordManager& operator=(const PasswordManager& rhs) = delete;
    private:
}
```
